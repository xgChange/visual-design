import{d as h,L as l,c as J,r as _,h as oe,g as He,e as m,p as kt,v as ge,a as Dt,u as T,w as ke,o as Ot,k as De,M as It,n as Xe,N as me,y as Je,O as ye,z as Qe,P as ae,Q as Pt,R as qe,S as re,U as Ze,V as Ke,W as Ye,m as Nt,X as At,Y as Oe,Z as Rt,T as Vt,_ as $t,i as Tt,$ as Ft,a0 as jt}from"./vue.a5281014.js";import{N as fe,a as Lt,b as zt,c as Mt,d as Ut,e as te,f as Wt,g as Gt,h as Ht,i as Xt,j as Jt,k as Qt,l as _e,m as qt,n as Ve,o as Zt}from"./naive-ui.06b1f7f0.js";import{d as Kt,c as Yt,s as et}from"./pinia.6fcff660.js";import{V as Ce}from"./vuedraggable.5baeaa8d.js";import{l as $e}from"./lodash.0efbc13f.js";const en=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}};en();const tn="_options-btns_1twsd_1";var nn={optionsBtns:tn},an=h({name:"HeaderBase",setup(){function e(){console.log("save")}function t(){console.log("import json")}function n(){console.log("redo")}return()=>l("div",null,[l("div",{class:nn.optionsBtns},[l(fe,{strong:!0,secondary:!0,type:"primary",onClick:e},{default:()=>[J("\u4FDD\u5B58")]}),l(fe,{strong:!0,secondary:!0,type:"primary",onClick:t},{default:()=>[J("\u5BFC\u5165JSON")]}),l(fe,{strong:!0,secondary:!0,type:"primary",onClick:n},{default:()=>[J("\u91CD\u505A")]})])])}}),P=(e=>(e.INPUT="input",e.INPUTNUMBER="inputNumber",e.COLOR="color",e.SELECT="select",e.SWITCH="switch",e.CONTROLLINPUT="controllInput",e))(P||{});const on="positionGroup",tt=Object.assign,nt=typeof window!="undefined";function Te(e,t){const n=t.split(".");let o=e;return n.forEach(a=>{var r;o=(r=o[a])!=null?r:""}),o}const R=[Number,String],Be={type:Boolean,default:!0},N=e=>({type:String,default:e});var rn=typeof window!="undefined",ie,be;function ln(){if(!ie&&(ie=_(0),be=_(0),rn)){const e=()=>{ie.value=window.innerWidth,be.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:ie,height:be}}const Q=e=>e!=null,sn=e=>typeof e=="function",un=e=>e!==null&&typeof e=="object",at=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),cn=()=>nt?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;cn();const dn=e=>e.stopPropagation();function fn(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&dn(e)}ln();function A(e){if(Q(e))return at(e)?`${e}px`:String(e)}function vn(e){if(Q(e)){if(Array.isArray(e))return{width:A(e[0]),height:A(e[1])};const t=A(e);return{width:t,height:t}}}const pn=/-(\w)/g,ot=e=>e.replace(pn,(t,n)=>n.toUpperCase()),gn=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:mn}=Object.prototype;function yn(e,t,n){const o=t[n];!Q(o)||(!mn.call(e,n)||!un(o)?e[n]=o:e[n]=rt(Object(e[n]),o))}function rt(e,t){return Object.keys(t).forEach(n=>{yn(e,t,n)}),e}var hn={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(e,t)=>`${e}\u5E74${t}\u6708`,rangePrompt:e=>`\u6700\u591A\u9009\u62E9 ${e} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:e=>`${e}\u6298`,condition:e=>`\u6EE1${e}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:e=>`${e}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",postal:"\u90AE\u653F\u7F16\u7801",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",postalEmpty:"\u90AE\u653F\u7F16\u7801\u4E0D\u6B63\u786E",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const Fe=_("zh-CN"),je=oe({"zh-CN":hn}),_n={messages(){return je[Fe.value]},use(e,t){Fe.value=e,this.add({[e]:t})},add(e={}){rt(je,e)}};var bn=_n;function Sn(e){const t=ot(e)+".";return(n,...o)=>{const a=bn.messages(),r=Te(a,t+n)||Te(a,n);return sn(r)?r(...o):r}}function Ee(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+Ee(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?Ee(e,o):""),""):""}function Cn(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Ee(t,n)}`)}function q(e){const t=`van-${e}`;return[t,Cn(t),Sn(t)]}const Bn="van-hairline",En=`${Bn}--surround`;function le(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(ot(`-${n}`),e))},e}const wn={to:[String,Object],url:String,replace:Boolean};function xn({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function kn(){const e=He().proxy;return()=>xn(e)}const[Dn,Le]=q("badge"),On={dot:Boolean,max:R,tag:N("div"),color:String,offset:Array,content:R,showZero:Be,position:N("top-right")};var In=h({name:Dn,props:On,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:s,showZero:c}=e;return Q(s)&&s!==""&&(c||s!==0&&s!=="0")},o=()=>{const{dot:s,max:c,content:d}=e;if(!s&&n())return t.content?t.content():Q(c)&&at(d)&&+d>c?`${c}+`:d},a=m(()=>{const s={background:e.color};if(e.offset){const[c,d]=e.offset;t.default?(s.top=A(d),typeof c=="number"?s.right=A(-c):s.right=c.startsWith("-")?c.replace("-",""):`-${c}`):(s.marginTop=A(d),s.marginLeft=A(c))}return s}),r=()=>{if(n()||e.dot)return l("div",{class:Le([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[o()])};return()=>{if(t.default){const{tag:s}=e;return l(s,{class:Le("wrapper")},{default:()=>[t.default(),r()]})}return r()}}});const Pn=le(In),Nn=e=>{},[lt,An]=q("config-provider"),st=Symbol(lt),Rn={tag:N("div"),zIndex:Number,themeVars:Object,iconPrefix:String};function Vn(e){const t={};return Object.keys(e).forEach(n=>{t[`--van-${gn(n)}`]=e[n]}),t}h({name:lt,props:Rn,setup(e,{slots:t}){const n=m(()=>{if(e.themeVars)return Vn(e.themeVars)});return kt(st,e),ge(()=>{e.zIndex!==void 0&&Nn(e.zIndex)}),()=>l(e.tag,{class:An(),style:n.value},{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}});const[$n,ze]=q("icon"),Tn=e=>e==null?void 0:e.includes("/"),Fn={dot:Boolean,tag:N("i"),name:String,size:R,badge:R,color:String,badgeProps:Object,classPrefix:String};var jn=h({name:$n,props:Fn,setup(e,{slots:t}){const n=Dt(st,null),o=m(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||ze());return()=>{const{tag:a,dot:r,name:s,size:c,badge:d,color:p}=e,f=Tn(s);return l(Pn,T({dot:r,tag:a,class:[o.value,f?"":`${o.value}-${s}`],style:{color:p,fontSize:A(c)},content:d},e.badgeProps),{default:()=>{var v;return[(v=t.default)==null?void 0:v.call(t),f&&l("img",{class:ze("image"),src:s},null)]}})}}});const ut=le(jn),[Ln,ne]=q("loading"),zn=Array(12).fill(null).map((e,t)=>l("i",{class:ne("line",String(t+1))},null)),Mn=l("svg",{class:ne("circular"),viewBox:"25 25 50 50"},[l("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Un={size:R,type:N("circular"),color:String,vertical:Boolean,textSize:R,textColor:String};var Wn=h({name:Ln,props:Un,setup(e,{slots:t}){const n=m(()=>tt({color:e.color},vn(e.size))),o=()=>{var a;if(t.default)return l("span",{class:ne("text"),style:{fontSize:A(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:r}=e;return l("div",{class:ne([a,{vertical:r}]),"aria-live":"polite","aria-busy":!0},[l("span",{class:ne("spinner",a),style:n.value},[a==="spinner"?zn:Mn]),o()])}}});const Gn=le(Wn),[Hn,W]=q("button"),Xn=tt({},wn,{tag:N("button"),text:String,icon:String,type:N("default"),size:N("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:N("button"),loadingSize:R,loadingText:String,loadingType:String,iconPosition:N("left")});var Jn=h({name:Hn,props:Xn,emits:["click"],setup(e,{emit:t,slots:n}){const o=kn(),a=()=>n.loading?n.loading():l(Gn,{size:e.loadingSize,type:e.loadingType,class:W("loading")},null),r=()=>{if(e.loading)return a();if(n.icon)return l("div",{class:W("icon")},[n.icon()]);if(e.icon)return l(ut,{name:e.icon,class:W("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let p;if(e.loading?p=e.loadingText:p=n.default?n.default():e.text,p)return l("span",{class:W("text")},[p])},c=()=>{const{color:p,plain:f}=e;if(p){const v={color:f?p:"white"};return f||(v.background=p),p.includes("gradient")?v.border=0:v.borderColor=p,v}},d=p=>{e.loading?fn(p):e.disabled||(t("click",p),o())};return()=>{const{tag:p,type:f,size:v,block:C,round:B,plain:I,square:i,loading:y,disabled:b,hairline:E,nativeType:w,iconPosition:x}=e,S=[W([f,v,{plain:I,block:C,round:B,square:i,loading:y,disabled:b,hairline:E}]),{[En]:E}];return l(p,{type:w,class:S,style:c(),disabled:b,onClick:d},{default:()=>[l("div",{class:W("content")},[x==="left"&&r(),s(),x==="right"&&r()])]})}}});const Qn=le(Jn);var we=Qn;function M(e,t,n){let o=String;return e.type?o=e.type:typeof e=="function"&&(o=e),(...a)=>({type:o,alias:t,unit:n,defaultValue:a[0],widgetType:a[1],options:a[2]})}function qn(e,t){return e.map((n,o,a)=>t(n,o,a))}const Ie={label:{type:String,default:"\u6309\u94AE"}},Zn={...Ie},ce={...Ie,...we.props},Kn={label:M(ce.label,"\u6309\u94AE\u5185\u5BB9")(Ie.label.default,P.INPUT),type:M(ce.type,"\u6309\u94AE\u7C7B\u578B")(ce.type.default,P.SELECT,qn(["primary","success","warning","danger","default"],e=>({label:e,value:e}))),color:M(ce.color,"\u6309\u94AE\u989C\u8272")("",P.COLOR)},Yn={width:M({type:Number},"\u5BBD\u5EA6","px")(60,P.INPUTNUMBER),height:M({type:Number},"\u9AD8\u5EA6","px")(44,P.INPUTNUMBER),positionGroup:M({type:Object},"\u4F4D\u7F6E","px")(void 0,P.CONTROLLINPUT)},ea=h({name:"Button",props:Zn,inheritAttrs:!1,preview:()=>l(we,{type:"primary",size:"small"},{default:()=>[J("\u6309\u94AE")]}),setup(e,{slots:t,attrs:n}){return()=>{const{label:o,...a}=e,r={...t,default:o?()=>o:t.default};return l(we,T(a,n),r)}},slots:[{type:"default",alias:"\u6309\u94AE\u5185\u5BB9"},{type:"icon",alias:"\u81EA\u5B9A\u4E49\u56FE\u6807"},{type:"loading",alias:"\u81EA\u5B9A\u4E49\u52A0\u8F7D\u56FE\u6807"}],events:[{type:"click",alias:"\u70B9\u51FB\u4E8B\u4EF6"}],editorProps:Kn,editorStyles:Yn});var it="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAAiCAYAAAAUAipQAAAEfUlEQVRYhe2Y20sbSxyAv9ToxhhthNYkSoy63iDaBOuFVo2gIBgQnwSh9Enwjyr0qT4IpSBoFEqb+GKkWilRK1IjGlGMMcELalgl2T6Ie7omOee0cDxE8r3NZec33+z8ZofVfP36VeYB8uj/nsB/RU4s28iJZRs5sWwjJ5ZtPFgx7a+Fg4MDpqamVB3y8vIYHR0FYGJigoaGBrRaLc3NzQAsLy9TUlJCXV2d6rnx8XFGRkbQav8KEYvF+PDhw7+a2MjICCUlJQDMzc1RUVGhirGxsUEkEsHlcv2zGEBbWxtOp5PZ2Vncbjcej0fV3tjYiM/nQxRF9Ho99fX1TE5OUlxcjNlsVvrJsoxGo0kJWFVVRX9/P7Is8/HjR5xOJyaTSdXnbsw/IUXs9PSU1dVVAObn51VtyWSSwsJC3G63UldcXExPTw/BYFAllkwm04oBXF9f4/P5CIVChEIhVdvw8PCf2/xCitjjx49pbm5mb2+Pzs5OPB4PMzMz7O3tAfDmzRsA7HY7nZ2dAFRWVlJZWamMIcsykiQRj8cpKipKCbqwsABAdXU1L168QBAEvn37hl6vp7S0NO1EfT4fPp8vpX5jYwMAi8XC4OBgZrGlpSWWlpYUiV9z7O3bt7x+/ZqCggIA3r9/z/HxMaIo0tfXp4xxeXkJQDQaTSvmcrmIx+Ps7Ozg9XoRBIH8/HzMZjPxeDytWG9vL7W1tWnb0qESs1gsjI2NIcuykmO3XFxckEgkiEajlJeXAzfbZn9/X1m1W2KxGAaDgcPDQ2w2m6rtduyioiLKyspwu91otVrC4TA/fvwgEAjw6JH6sE4mkyl1vyW2tbXF58+flfLtthsbGyMcDmMymdjd3VXEMhEMBnn+/DmBQIC2tjZVrmk0GgYGBgDwer3Mz89jNBoxm83KCXf38JAkiU+fPqWN9erVq7S7QiUmiiJWqxVJkvB6vXR0dHB1dYUkSWxtbdHa2orf76e9vT1lBQ8ODvj+/Tvt7e2Ew2G6u7uJRCJsb29TU1OTdlK9vb1cX18TjUa5uLjIuFAnJycMDw+n5N+7d+8yPqMS8/v9bG5uotPp0Ol0BAIBdDodiUSCs7MzKioqsFqtrK6u4nA4gJsturu7y9HRES6Xi7m5ORwOB/n5+TidTqamprBYLBQWFqoCT0xMYDQaMZlMmEymlC17SzgcJpFIYDQaM0qkQ7XsoijS1NTE06dPaWlpoby8HEmSWFxc5OXLlwA4nU7W1taIRCIACIJATU0NQ0NDrKysoNfrsdvtwM2nwOFwMDs7y/n5uSrw0NAQDocDQRAIBoNMT0/z5csXVZ9EIoHf7+fZs2cZPx2ZUL2xzc1NmpqaWFlZ4cmTJ1itVgwGA8fHx0pe6XQ6urq62N7epqysDJvNhs1mIxQKIQgCPT09qgB2u52rqyvW19cRRZGdnR0ld+9ydHREIBBQyqenpxgMBuWW8zto7vMvVSwWY3l5mf7+/r/t5/F46O7uVq5Uf8K9it0nD/Z2nxPLNnJi2UZOLNvIiWUbD1bsJ6O7p3GKJuQcAAAAAElFTkSuQmCC";const[ta,G]=q("image"),na={src:String,alt:String,fit:String,position:String,round:Boolean,width:R,height:R,radius:R,lazyLoad:Boolean,iconSize:R,showError:Be,errorIcon:N("photo-fail"),iconPrefix:String,showLoading:Be,loadingIcon:N("photo")};var aa=h({name:ta,props:na,emits:["load","error"],setup(e,{emit:t,slots:n}){const o=_(!1),a=_(!0),r=_(),{$Lazyload:s}=He().proxy,c=m(()=>{const i={width:A(e.width),height:A(e.height)};return Q(e.radius)&&(i.overflow="hidden",i.borderRadius=A(e.radius)),i});ke(()=>e.src,()=>{o.value=!1,a.value=!0});const d=i=>{a.value=!1,t("load",i)},p=i=>{o.value=!0,a.value=!1,t("error",i)},f=(i,y,b)=>b?b():l(ut,{name:i,size:e.iconSize,class:y,classPrefix:e.iconPrefix},null),v=()=>{if(a.value&&e.showLoading)return l("div",{class:G("loading")},[f(e.loadingIcon,G("loading-icon"),n.loading)]);if(o.value&&e.showError)return l("div",{class:G("error")},[f(e.errorIcon,G("error-icon"),n.error)])},C=()=>{if(o.value||!e.src)return;const i={alt:e.alt,class:G("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?De(l("img",T({ref:r},i),null),[[It("lazy"),e.src]]):l("img",T({src:e.src,onLoad:d,onError:p},i),null)},B=({el:i})=>{const y=()=>{i===r.value&&a.value&&d()};r.value?y():Xe(y)},I=({el:i})=>{i===r.value&&!o.value&&p()};return s&&nt&&(s.$on("loaded",B),s.$on("error",I),Ot(()=>{s.$off("loaded",B),s.$off("error",I)})),()=>{var i;return l("div",{class:G({round:e.round}),style:c.value},[C(),v(),(i=n.default)==null?void 0:i.call(n)])}}});const oa=le(aa);var Me=oa;const ra={src:{type:String,default:it}},la={...ra},sa=h({name:"Image",props:la,inheritAttrs:!1,preview:()=>l(Me,{src:it},null),setup(e,{slots:t,attrs:n}){return()=>{const{...o}=e,a={...t};return l(Me,T(o,n),a)}},slots:[{type:"default",alias:"\u56FE\u7247\u4E0B\u65B9\u5185\u5BB9"},{type:"loading",alias:"\u52A0\u8F7D\u4E2D\u7684\u63D0\u793A\u5185\u5BB9"},{type:"error",alias:"\u52A0\u8F7D\u5931\u8D25\u7684\u63D0\u793A\u5185\u5BB9"}],events:[{type:"click",alias:"\u70B9\u51FB\u4E8B\u4EF6"}]});var Ue={VButton:ea,VImage:sa};const ua=Object.keys(Ue).map(e=>Ue[e]);let ia=e=>crypto.getRandomValues(new Uint8Array(e)),ca=(e,t,n)=>{let o=(2<<Math.log(e.length-1)/Math.LN2)-1,a=-~(1.6*o*t/e.length);return(r=t)=>{let s="";for(;;){let c=n(a),d=a;for(;d--;)if(s+=e[c[d]&o]||"",s.length===r)return s}}},da=(e,t=21)=>ca(e,t,ia);const ct=e=>e!=null&&e.length?e:[],ve=da("1234567890abcdef",10),X=()=>{},dt=(e,t)=>{let n=t;if(Array.isArray(n)&&(n=n[0]),n===Number){if(isNaN(Number(e)))return}else if(n===String){if(String(e)!==e)return}else if(n===Boolean&&isNaN(Number(e)))return;return n(e)},xe="ComponentGroup";var z=(e=>(e.COMPONENT="component",e.PAGESETTING="page_setting",e))(z||{});const ft={component:"\u57FA\u7840\u7EC4\u4EF6",page_setting:"\u9875\u9762\u8BBE\u7F6E"},fa={Button:"\u6309\u94AE",Image:"\u56FE\u7247"},va="_material-panel_ogvw2_1",pa="_item_ogvw2_1",ga="_item-header_ogvw2_4",ma="_component_ogvw2_8",ya="_component-item_ogvw2_12",ha="_dragging_ogvw2_29",_a="_content_ogvw2_49",ba="_text-tips_ogvw2_53";var j={materialPanel:va,item:pa,itemHeader:ga,component:ma,componentItem:ya,dragging:ha,content:_a,textTips:ba};function We(e){const t=typeof e=="function"?e():e,n=_(t);function o(a){n.value=a}return[n,o]}const Pe=Kt("visualEditorConfig",()=>{const e=oe({pageConfig:{style:{backgroundColor:M({},"\u80CC\u666F\u989C\u8272")("#fff",P.COLOR)}},page:{"/":{blocks:[],path:"/",title:"\u9996\u9875"}}}),t=_("/"),[n,o]=We("default"),[a,r]=We(),s=m(()=>{var v;return(v=e==null?void 0:e.page)==null?void 0:v[t.value]}),c=m(()=>{var v;return(v=s.value)==null?void 0:v.blocks}),d=m(()=>e.pageConfig);function p(v,C){var i,y;const B=(i=c.value)==null?void 0:i.length;let I=B;if(C===void 0&&(I=B),c.value&&C===void 0&&I!==void 0&&(c.value[I]||(c.value[I]={coms:me(ct()),key:ve()}),c.value[I].coms.value.push(v)),c.value&&C){const b=c.value.find(E=>E.key===C);b&&((y=b.coms)==null||y.value.push(v))}}function f(v){s.value&&(s.value.blocks=v)}return{visualEditorData:e,visualPageConfig:d,curPageInfo:s,selectPath:t,curPageBlocks:c,editorDragType:n,selectedComInfo:a,addCurPageComponentByBlock:p,setCurPageBlock:f,setEditorDragType:o,setSelectedComInfo:r}});var Sa=Yt();function Ca(){const e={[z.COMPONENT]:ua,[z.PAGESETTING]:[]},t=Object.keys(e).map(n=>({type:n,alias:ft[n],data:e[n]}));return{panelData:e,panelArrData:t}}const Ba=e=>()=>l("div",{class:j.itemHeader},[e]);var Ea=h({name:"MaterialsPanel",setup(){const{panelData:e}=Ca(),t=Pe(),n=m(()=>t.editorDragType==="nested"),o=[z.COMPONENT],a=_(e[z.COMPONENT]),r=_(!1),s=m(()=>({animation:200,disabled:!1}));function c(){r.value=!0}function d(){r.value=!1}function p(f){if(n.value){const C=Object.assign($e.exports.cloneDeep(f),{key:ve()});return console.log("clone",C),C}const v={key:ve(),coms:me(ct([Object.assign($e.exports.cloneDeep(f),{key:ve()})]))};return console.log("clone",v),v}return()=>l(Lt,{class:j.materialPanel,defaultExpandedNames:o,displayDirective:"show",arrowPlacement:"left"},{default:()=>[l(zt,{class:j.item,name:z.COMPONENT},{default:()=>[l(Ce,T({class:j.component,modelValue:a.value,"onUpdate:modelValue":f=>a.value=f,itemKey:"name",group:{name:xe,pull:"clone",put:!1},clone:p,onStart:c,onEnd:d},s.value),{item:({element:f})=>l(Je,{tag:"div",name:"flip-list",class:[j.componentItem,r.value?j.dragging:""]},{default:()=>[l(f.preview,{class:j.content,key:f.name},null),l("div",{class:j.textTips,key:f.name},[fa[f.name]])]})})],header:Ba(ft[z.COMPONENT])})]})}}),wa=h({name:"SiderbarBase",setup(){return()=>l("div",null,[l(Ia,null,null),l(Ea,{style:{marginTop:"10px"}},null)])}});var Ne=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n};const xa=e=>(Ze("data-v-2f7fcbdb"),e=e(),Ke(),e),ka=xa(()=>ae("div",{class:"logo"},null,-1)),Da={name:"LogoWrapper"},Oa=h({...Da,props:{slogan:{default:""}},setup(e){const n=["logo-wrapper",{"no-slogan":!e.slogan}];return(o,a)=>(re(),ye("div",{class:qe(n)},[ka,De(ae("div",{class:"slogan"},Pt(e.slogan),513),[[Qe,e.slogan]])]))}});var Ia=Ne(Oa,[["__scopeId","data-v-2f7fcbdb"]]);const Pa=h({__name:"MaskLayer",props:{cursor:{default:"default"},unlock:{type:Boolean,default:!1}},setup(e){return Ye(t=>({"584ef52a":e.cursor})),(t,n)=>(re(),ye("div",{class:qe(["mask-layer",{"mask-layer--unlock":e.unlock}])},[Nt(t.$slots,"default",{},void 0,!0)],2))}});var Na=Ne(Pa,[["__scopeId","data-v-3c3d21fe"]]);const Aa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},Ra=ae("g",{fill:"none"},[ae("path",{d:"M34.985 22.5l-7.061 7.061a1.25 1.25 0 0 0 1.666 1.86l.102-.092l9.192-9.192a1.25 1.25 0 0 0 .091-1.666l-.091-.102l-9.192-9.192a1.25 1.25 0 0 0-1.86 1.666l.092.101L34.98 20H26c-3.254 0-6.28.721-8.904 2.1l-.41.223a16.513 16.513 0 0 0-6.364 6.363C8.798 31.403 8 34.576 8 38a1.25 1.25 0 1 0 2.5 0c0-3.005.692-5.756 2.003-8.092a14.012 14.012 0 0 1 5.405-5.406c2.207-1.237 4.783-1.924 7.594-1.996L26 22.5h8.985z",fill:"currentColor"})],-1),Va=[Ra];var $a=h({name:"ArrowForward48Regular",render:function(t,n){return re(),ye("svg",Aa,Va)}});const Ta=e=>(Ze("data-v-d23ad4c0"),e=e(),Ke(),e),Fa={class:"guide-drag_box"},ja=Ta(()=>ae("div",{class:"guide-drag_tip"},"\u5C06\u7EC4\u4EF6\u62D6\u62FD\u5230\u8FD9\u91CC\u54E6",-1)),La=h({__name:"GuideDrag",props:{position:{default:"relative"},iconSize:{default:40}},setup(e){return Ye(t=>({"28bcfdf8":e.position})),(t,n)=>{const o=Mt;return re(),ye("div",Fa,[ja,l(o,{size:e.iconSize,class:"guide-icon"},{default:At(()=>[l(Oe($a),{class:"guide_arrow"})]),_:1},8,["size"])])}}});var za=Ne(La,[["__scopeId","data-v-d23ad4c0"]]);const Ma="_com-render-box_1np6s_1",Ua="_com-render-box--disabled_1np6s_10",Wa="_com-render-box--selected_1np6s_13",Ga="_com_operation-area_1np6s_19";var pe={comRenderBox:Ma,comRenderBoxDisabled:Ua,comRenderBoxSelected:Wa,comOperationArea:Ga};const Ha=h({emits:["insert"],setup(e,{emit:t}){function n(){t("insert",r.value.type),r.value.type==="insert"?r.value=a:r.value=o}const o={text:"\u63D2\u5165\u7EC4\u4EF6",type:"insert"},a={text:"\u5B8C\u6210",type:"finish"},r=_(o);return()=>l("div",{class:pe.comOperationArea},[l(fe,{type:"info",size:"tiny",onClick:n},{default:()=>[r.value.text]})])}}),Xa=h({name:"BlockRender",props:{disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},onInsert:{type:Function,default:X}},emits:["insert"],setup(e,{slots:t}){const n=_(!0);function o(a){a==="insert"?n.value=!1:n.value=!0,e.onInsert(a)}return()=>{var a;return l("div",{class:[pe.comRenderBox,{[`${pe.comRenderBoxDisabled}`]:e.disabled,[`${pe.comRenderBoxSelected}`]:e.selected}],style:{cursor:n.value?"move":"default"}},[n.value?l(Na,{cursor:"move"},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t)]}}):(a=t==null?void 0:t.default)==null?void 0:a.call(t),De(l(Ha,{onInsert:o},null),[[Qe,e.selected]])])}}});function Ja(e){const t=_("");function n(o){t.value=o}return ke(e,(o,a)=>{if(o.length!==a.length&&o.length){const r=o.length;t.value=o[r-1].key}}),{selectedBlockKey:t,setSelectedKey:n}}const Qa="_visual-editor_egwdj_1",qa="_visual-blocks_egwdj_1",Za="_place-blocks_egwdj_4",Ka="_ghost-com_egwdj_10",Ya="_visual-drag-coms_egwdj_16",eo="_com-wrapper_egwdj_19",to="_com-wrapper--selected_egwdj_32";var Y={visualEditor:Qa,visualBlocks:qa,placeBlocks:Za,ghostCom:Ka,visualDragComs:Ya,comWrapper:eo,comWrapperSelected:to};function no(e){const t=_(new Set),n=m(()=>Array.from(t.value).find(r=>r==null?void 0:r.selected)),o=m(()=>{if(n.value){const r=n.value.$el.getBoundingClientRect();return{x:r.x,y:r.y}}return null}),a=m(()=>n.value&&e.value);return{selectedBlockRefClientRect:o,showGuidTips:a,blockRefs:t}}function ao(e,t,n,o,a){const r=_(0),s=_(0),c=_(!1);function d(f,v){v&&(f.preventDefault(),c.value=!1,Xe().then(()=>{c.value=!0,r.value=f.clientX,s.value=f.clientY}))}function p(f){var v,C;typeof f=="string"&&(e.value||(t.value=t.value.filter(B=>B.key!==n.value),console.log(t.value)),e.value&&a.value&&a.value.coms&&(a.value.coms=me(((C=Oe((v=a.value)==null?void 0:v.coms))==null?void 0:C.filter(B=>B.key!==o.value))||[]),console.log("after delete com: ",a.value.coms))),c.value=!1}return{xRef:r,yRef:s,showDropdownRef:c,handleContextMenu:d,handleSelectContextOption:p}}function oo(e,t,n){const o=e.unit;return o?t===on?Object.keys(n).reduce((a,r)=>(a[r]=`${n[r]}${o}`,a),{}):`${n}${o}`:n}function ro(e){return Object.keys(e).forEach(t=>{typeof e[t]=="object"&&(Object.keys(e[t]).forEach(n=>{e[n]=e[t][n]}),delete e[t])}),e}const lo={position:"relative"},vt=["top","bottom","left","right","cursor"];function so(e){const t={};return vt.forEach(n=>{t[n]=e[n]}),t}function uo(e){const t={};return Object.keys(e).forEach(n=>{vt.includes(n)||(t[n]=e[n])}),t}function io(e,t){let n=X,o=X,a=X,r=X;const s=_(oe({})),c=2,d=_({x:0}),p=m(()=>{var y,b,E;const i=(y=e.value)==null?void 0:y.$el;return d.value.x+((E=(b=i==null?void 0:i.getBoundingClientRect)==null?void 0:b.call(i))==null?void 0:E.width)>>0||0}),f=_(!1);function v(i,y){return i>=y[0]&&i<=y[1]}function C(i,y){const[b,E]=i;for(let w=0,x=y.length;w<=x;w++){const S=y[w];if(S!=null&&S.length&&v(b,S[0])&&v(E,S[1]))return!0}return!1}let B=X;const I=ge(()=>{var y;const i=t?t.value:(y=e.value)==null?void 0:y.$el;if(s.value={},d.value={x:0},console.log("watch",i),i){const b=function(){var Z;const E=t?t.value:(Z=e.value)==null?void 0:Z.$el,{x:w,width:x,y:S,height:V}=E.getBoundingClientRect(),U=[[w,w+x],[S-c,S+c]],he=[[U[0][1]-c,U[0][1]+c],[S,S+V]];return{topSide:U,rightSide:he}};n=E=>{const{x:w,y:x}=E,S=b().topSide,V=b().rightSide;C([w,x],[S,V])&&(f.value=!0,i.setAttribute("draggable",!1))},o=E=>{const{x:w,y:x}=E,S=b().topSide,V=b().rightSide;C([w,x],[S,V])?s.value.cursor="e-resize":s.value.cursor="move"},a=()=>{f.value&&(f.value=!1,i.setAttribute("draggable",!0))},r=E=>{var x;const w=(x=e.value)==null?void 0:x.$el;if(w){const S=w.getBoundingClientRect(),V=S.x+S.width;f.value&&(d.value.x=E.x-V),s.value.width=p.value}},i.addEventListener("mousedown",n),i.addEventListener("mousemove",o),document.addEventListener("mouseup",a),document.addEventListener("mousemove",r),B=()=>{i.removeEventListener("mousedown",n),i.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a),document.removeEventListener("mousemove",r)}}});return Rt(()=>{console.log("dispose",e.value),I(),B()}),{dragStyle:s,moveAfterWidth:p,isSetSizeDrag:f,moveOffset:d}}const co=[{label:"\u5220\u9664",key:"delete"}];var fo=h({name:"VisualEditor",setup(){const e=Pe(),{editorDragType:t,selectedComInfo:n,curPageBlocks:o,visualPageConfig:a}=et(e),r=_(!1),s=_(new Map),c=me([]),d=m(()=>{var u;return(u=n.value)==null?void 0:u.key}),p=m(()=>s.value.get(d.value)),f=m(()=>{var u,g;return(g=(u=s.value.get(d.value))==null?void 0:u.$el)==null?void 0:g.parentNode}),v=m(()=>{var u;return(u=o.value)==null?void 0:u.find(g=>g.key===y.value)});function C(u,g){return Object.keys(u).reduce((k,O)=>{const $=u[O].defaultValue,D=u[O].type,F=dt(D($),D);return g=="style"?k[O]=oo(u[O],O,F):k[O]=F,k},{})}const B=m(()=>{var k,O;return(((O=(k=o.value)==null?void 0:k.map($=>$.coms))==null?void 0:O.flat())||[]).reduce(($,D)=>{var L,K;const F=((L=d.value===(D==null?void 0:D.key)?n.value:D)==null?void 0:L.editorProps)||{},ue=((K=d.value===(D==null?void 0:D.key)?n.value:D)==null?void 0:K.editorStyles)||{};return $.props[D.key]=C(F),$.styles[D.key]=ro(Object.assign(C(ue,"style"),lo)),$},{props:{},styles:oe({})})}),I=m(()=>{var g;const u=((g=a.value)==null?void 0:g.style)||{};return a.value?Object.keys(u).reduce((k,O)=>(k[O]=u[O].defaultValue,k),{}):{}}),i=m(()=>t.value==="nested"),{selectedBlockKey:y,setSelectedKey:b}=Ja(c),{blockRefs:E,showGuidTips:w,selectedBlockRefClientRect:x}=no(i),{xRef:S,yRef:V,handleContextMenu:U,handleSelectContextOption:he,showDropdownRef:Z}=ao(i,c,y,d,v),{dragStyle:pt,moveAfterWidth:gt,isSetSizeDrag:mt,moveOffset:yt}=io(p,f),Ae=m(()=>$t({key:d,moveAfterWidth:gt,isSetSizeDrag:mt,dragStyle:pt,moveOffset:yt}));function ht(u){var D;const g=((D=n.value)==null?void 0:D.editorStyles)||{},k=B.value.styles[d.value],O=u.moveOffset,$=u.isSetSizeDrag;for(const F in u.dragStyle){const ue=u.dragStyle[F],L=g[F];if(L){const K=[ue,L.defaultValue];$&&(O.x>0?L.defaultValue=Math.max.apply(null,K):O.x<0&&(L.defaultValue=Math.min.apply(null,K)))}else k&&(k[F]=ue)}}ge(()=>{d.value===Ae.value.key&&ht(Ae.value)}),ke(c,u=>{e.setCurPageBlock(u)}),ge(()=>{i.value||e.setSelectedComInfo(void 0)});const _t=m(()=>({animation:200,disabled:i.value,ghostClass:"ghost-editor"}));function bt(u){return m(()=>({animation:200,disabled:!(u===y.value&&i.value),ghostClass:"ghost-editor"}))}function Re(u){u==="start"?r.value=!0:r.value=!1}function St(u){i.value||b(u)}function Ct(u){b(u.draggedContext.element.key)}function Bt(u){console.log(u),u==="insert"?e.setEditorDragType("nested"):e.setEditorDragType("default")}function se(u){return y.value===u}function Et(u){return d.value===u}function wt(u){u.key!==d.value&&e.setSelectedComInfo(u)}function xt(u,g){i.value&&se(g)&&u()}return()=>l("div",{style:I.value,class:Y.visualEditor},[w.value&&l(Vt,{to:"body"},{default:()=>[l(za,{position:"fixed",style:{top:x.value.y+"px",left:x.value.x-80+"px"}},null)]}),l(Ut,{placement:"bottom-start",trigger:"manual",x:S.value,y:V.value,options:co,show:Z.value,onClickoutside:()=>Z.value=!1,onSelect:he},null),l(Ce,T({modelValue:c.value,"onUpdate:modelValue":u=>c.value=u,itemKey:"key",group:xe,onStart:()=>Re("start"),onEnd:()=>Re("end"),move:Ct,class:[Y.visualBlocks]},_t.value),{item:({element:u})=>l(Je,{tag:"div",name:"flip-list"},{default:()=>[l(Xa,{key:u.key,disabled:r.value||i.value&&!se(u.key),selected:se(u.key),onClick:()=>St(u.key),onInsert:g=>Bt(g),oncontextmenu:g=>U(g,!i.value&&se(u.key)),ref:g=>{E.value.add(g)}},{default:()=>[l(Ce,T({class:Y.visualDragComs,modelValue:u.coms.value,"onUpdate:modelValue":g=>u.coms.value=g,itemKey:"key",group:xe},bt(u.key).value),{item:({element:g})=>l("div",{onClick:()=>xt(()=>wt(g),u.key),oncontextmenu:k=>U(k,i.value&&Et(g.key)),class:[Y.comWrapper,{[`${Y.comWrapperSelected}`]:d.value===g.key}],style:so(Object.assign(B.value.styles[g.key]))},[l(g,T({ref:k=>{s.value.set(g.key,k)}},B.value.props[g.key]||{},{style:Object.assign(uo(Object.assign(B.value.styles[g.key])))}),null)])})]})]})})])}});const vo="_content-container_1xmu8_1",po="_visual-editor-wrapper_1xmu8_1";var Ge={contentContainer:vo,visualEditorWrapper:po},go=h({name:"ContentBase",setup(){const e=_(!0);return()=>l("div",{class:Ge.contentContainer},[l("button",{onClick:()=>e.value=!e.value},[J("\u70B9\u51FB")]),e.value&&l(fo,{class:Ge.visualEditorWrapper},null)])}});const mo="_position-controller-container_16g8w_1",yo="_top_16g8w_6",ho="_left_16g8w_9",_o="_right_16g8w_12",bo="_bottom_16g8w_15";var ee={positionControllerContainer:mo,top:yo,left:ho,right:_o,bottom:bo},So=h({name:"PositionController",props:{positionData:{type:Object,default(){return{top:0,left:0,right:0,bottom:0}}}},emits:["update:positionData"],setup(e,{emit:t}){const n=m({get(){return e.positionData},set(a){t("update:positionData",a)}});function o(a,r){a!==null&&(n.value={...n.value,[r]:a})}return()=>l("div",{class:ee.positionControllerContainer},[l(te,{placeholder:"top px",class:ee.top,value:n.value.top,onUpdateValue:a=>o(a,"top")},null),l(te,{placeholder:"left px",class:ee.left,value:n.value.left,onUpdateValue:a=>o(a,"left")},null),l(te,{placeholder:"right px",class:ee.right,value:n.value.right,onUpdateValue:a=>o(a,"right")},null),l(te,{placeholder:"bottom px",class:ee.bottom,value:n.value.bottom,onUpdateValue:a=>o(a,"bottom")},null)])}});function Co(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Tt(e)}const Bo={data:{type:Object,default:()=>({})}};var Se=h({name:"PropForm",props:Bo,setup(e){function t(o,a){const r=e.data[a.key];switch(o){case P.INPUT:return l(Jt,{value:r.defaultValue,"onUpdate:value":s=>r.defaultValue=s},null);case P.COLOR:return l(Xt,{size:"large",modes:["hex"],showAlpha:!1,actions:["confirm"],value:r.defaultValue,"onUpdate:value":s=>r.defaultValue=s,renderLabel:()=>`\u8BF7\u9009\u62E9${a.alias}`,onConfirm:s=>{console.log(s)}},null);case P.INPUTNUMBER:return l(te,{value:r.defaultValue,"onUpdate:value":s=>r.defaultValue=s},null);case P.CONTROLLINPUT:return l(So,{positionData:r.defaultValue,"onUpdate:positionData":s=>r.defaultValue=s},null);case P.SELECT:return l(Ht,{options:a.options,value:r.defaultValue,"onUpdate:value":s=>r.defaultValue=s,virtualScroll:!1},null);case P.SWITCH:return l(Gt,{value:r.defaultValue,"onUpdate:value":s=>r.defaultValue=s},null);default:return null}}const n=m(()=>{const o=e.data;return oe(Object.keys(o).map(a=>{const r={[a]:[{trigger:["input","blur"],validator(s,c){const d=o[a].type;if(!dt(c,d)){if(d===Number)return new Error("\u8BE5\u5B57\u6BB5\u7C7B\u578B\u662F\u6570\u5B57");if(d===String)return new Error("\u8BE5\u5B57\u6BB5\u7C7B\u578B\u662F\u5B57\u7B26\u4E32");if(d===Boolean)return new Error("\u8BE5\u5B57\u6BB5\u7C7B\u578B\u662F\u5E03\u5C14\u7C7B\u578B")}return!0}}]};return{defaultValue:o[a].defaultValue,widgetType:o[a].widgetType,options:o[a].options,alias:o[a].alias,key:a,rule:r}}))});return()=>l("div",{style:{padding:"12px"}},[n.value.map(o=>{let a;return l(Wt,{key:o.key,label:o.alias,rule:o.rule},Co(a=t(o.widgetType,o))?a:{default:()=>[a]})})])}});const Eo="_sider-right-base_1iqcq_1";var de={siderRightBase:Eo},wo=h({name:"SiderRightBase",setup(){const e=Pe(),{selectedComInfo:t,visualPageConfig:n}=et(e),o=m(()=>{var s;return((s=t.value)==null?void 0:s.editorProps)||{}}),a=m(()=>{var s;return((s=t.value)==null?void 0:s.editorStyles)||{}}),r=m(()=>{var s;return((s=n.value)==null?void 0:s.style)||{}});return()=>l(Qt,{defaultValue:"props",justifyContent:"space-evenly",type:"line",class:de.siderRightBase},{default:()=>[l(_e,{name:"props",tab:"\u5C5E\u6027",class:de.tabItemWrapper},{default:()=>[l(Se,{data:o.value},null),l(Se,{data:a.value},null)]}),l(_e,{name:"event",tab:"\u4E8B\u4EF6",class:de.tabItemWrapper},{default:()=>[J("\u4E8B\u4EF6")]}),l(_e,{name:"pageSetting",tab:"\u9875\u9762\u8BBE\u7F6E",class:de.tabItemWrapper},{default:()=>[l(Se,{data:r.value},null)]})]})}});const xo="_layout-container_jgfrw_1",ko="_left_jgfrw_5",Do="_middle_jgfrw_10",Oo="_ml-header_jgfrw_14",Io="_ml-content_jgfrw_19",Po="_right_jgfrw_23";var H={layoutContainer:xo,left:ko,middle:Do,mlHeader:Oo,mlContent:Io,right:Po},No=h({name:"BaseLayout",setup(){return()=>l(qt,{hasSider:!0,class:H.layoutContainer},{default:()=>[l(Ve,{bordered:!0,class:H.left},{default:()=>[l(wa,null,null)]}),l(Zt,{class:H.middle},{default:()=>[l(an,{class:H.mlHeader},null),l(go,{class:H.mlContent},null)]}),l(Ve,{class:H.right},{default:()=>[l(wo,null,null)]})]})}});const Ao=h({__name:"App",setup(e){return(t,n)=>(re(),Ft(Oe(No)))}});jt(Ao).use(Sa).mount("#app");
